plugins {
    id 'java-library'
}

repositories {
    mavenCentral()
}

sourceSets {
    integrationTest {
        compileClasspath += sourceSets.main.output + configurations.testRuntime
        runtimeClasspath += output + compileClasspath
    }
}

configurations {
    integrationTestImplementation.extendsFrom testImplementation
}

task integrationTest(type: Test) {
    description = 'Runs integration tests.'
    group 'verification'
    testClassesDirs = sourceSets.integrationTest.output.classesDirs
    classpath = sourceSets.integrationTest.runtimeClasspath
}

integrationTest {
    testLogging.showStandardStreams = true
}

dependencies {
    implementation 'jakarta.ws.rs:jakarta.ws.rs-api:2.1.5'
    implementation 'org.slf4j:slf4j-api:1.5.11'
    implementation 'com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:2.9.5'
    testImplementation 'org.glassfish.jersey.core:jersey-client:2.28'
    testImplementation 'junit:junit:4.12'
    testImplementation 'org.glassfish.jersey.inject:jersey-hk2:2.28' // Use this injection library for testing

    testImplementation 'org.apache.logging.log4j:log4j:2.12.1'
    testImplementation 'org.slf4j:slf4j-log4j12:1.5.11'
}